---
title: "RAID"
date: "2023-11-10 21:18:00"
lastmod: "2023-11-10 21:34:24"
categories: ["Hardware"]
draft: false
---

## 基本简介 {#基本简介}

RAID 是 Redundant Array of Inexpensive Disks 或 Redundant Array of Independent Drives 的缩写，廉价冗余磁盘阵列，是为了提高数据存储的性能和可靠性而开发的技术。

最初，RAID 的目标是通过将多个廉价的磁盘驱动器组合起来，以取代昂贵的大型磁盘驱动器，从而提供更高的性能和容错能力。因此，RAID 的原始名称是“Redundant Array of Inexpensive Disks”（廉价磁盘冗余阵列）。

RAID 系统由多块硬盘组成，多块硬盘并行工作。硬盘可以包括硬盘或 ssd，参数应一致。通过 RAID 配置，形成或提高性能、或提高可靠性、或提供逻辑盘空间大小的硬盘管理组合。

RAID 的发展离不开硬件和软件技术的进步。早期的 RAID 实施通常依赖于软件，即操作系统提供的 RAID 功能。然而，随着硬件技术的进步，硬件 RAID 控制器出现了，提供更高的性能和更强大的功能。

为实现不同的目的，通过多种方式进行配置形成不同的 RAID 级别，进行不同的工作机制。

RAID 级别可分为三类:

-   标准、
-   嵌套
-   非标准

标准 RAID 级别包括 RAID 0-6。

RAID 组分为:

-   RAID 10 (RAID 1+0)
-   RAID 01 (RAID 0+1)
-   RAID 50 (RAID 5+0)。

非标准 RAID 级别包括:

-   RAID 7
-   RAID 1E
-   RAID S

不同的 RAID 级别提供不同级别的性能和可靠性.
![](https://developer.qcloudimg.com/http-save/3264435/a5388bd5db28d0726e746ae8d1aaa0c6.png)


## 数据写入 {#数据写入}

当主机将一个待写入阵列 RAID 组中的数据发送到阵列时，阵列控制器将该数据保存在缓存中并立即报告主机该数据的写入工作已完成。

以下是常见的 RAID 级别：

-   RAID 0：条带化（数据分块）但没有冗余，提供较高的读写性能。
-   RAID 1：镜像，数据完全复制到另一个驱动器，提供容错能力。
-   RAID 5：条带化加分布式奇偶校验，提供数据冗余和读取性能。
-   RAID 6：类似于 RAID 5，但提供更高级别的容错能力。
-   RAID 10：RAID 1+0，将 RAID 1 镜像组合成 RAID 0 条带化，提供较高的容错能力和读写性能。
-   RAID 50：RAID 5 组合成 RAID 0，提供较高的性能和容错能力。
-   RAID 60：RAID 6 组合成 RAID 0，提供更高级别的性能和容错能力。


## RAID 0 {#raid-0}


### 原理 {#原理}

RAID 0 使用数据条带化（striping）的方式将数据分散存储在多个磁盘驱动器上，而不进行冗余备份。数据被分成固定大小的块，并依次存储在每个磁盘上。例如，如果有两个驱动器（驱动器 A 和驱动器 B），一块数据的第一个部分存储在驱动器 A 上，第二个部分存储在驱动器 B 上，以此类推。这种条带化的方式可以同时从多个驱动器读取或写入数据，从而提高系统的性能.
![](https://developer.qcloudimg.com/http-save/3264435/422bfffd169292c5fe40c72e894032ad.png)


### 优点 {#优点}

RAID 0 具有以下优点：

-   高性能：通过数据条带化和并行读写操作，RAID 0 可以提供更快的数据传输速度和更高的系统性能。
-   成本效益：相对于其他 RAID 级别（如 RAID 1 或 RAID 5），RAID 0 不需要额外的磁盘用于冗余备份，因此在成本上更具竞争力。


### 缺点 {#缺点}

RAID 0 也存在一些缺点：

-   缺乏冗余：由于 RAID 0 不提供数据冗余，如果任何一个驱动器发生故障，所有数据都可能丢失。因此，RAID 0 不适合存储关键数据。
-   可靠性降低：由于没有冗余备份，RAID 0 的可靠性相对较低。如果任何一个驱动器发生故障，整个阵列的可用性将受到影响。


## RAID 1 {#raid-1}


### 原理 {#原理}

RAID 1 使用数据镜像（mirroring）的方式将数据完全复制到两个或多个磁盘驱动器上。当写入数据时，数据同时写入所有驱动器。这样，每个驱动器都具有相同的数据副本，从而实现数据的冗余备份。如果其中一个驱动器发生故障，系统可以继续从剩余的驱动器中读取数据，确保数据的可用性和完整性。
![](https://developer.qcloudimg.com/http-save/3264435/53806304a8bc83582226ae809e9df47c.png)


### 优点 {#优点}

RAID 1 具有以下优点：

-   数据冗余备份：RAID 1 通过数据镜像将数据完全复制到多个驱动器上，提供冗余备份，保护数据免受驱动器故障的影响。
-   高可用性：由于数据的冗余备份，即使一个驱动器发生故障，系统仍然可以从其他驱动器中读取数据，保证数据的可用性和连续性。
-   读取性能提升：RAID 1 可以通过并行读取数据的方式提升读取性能，从而加快数据访问速度。


### 缺点 {#缺点}

RAID 1 也存在一些缺点：

-   成本增加：由于需要额外的磁盘用于数据冗余备份，RAID 1 的成本相对较高。需要考虑额外的硬件成本。
-   写入性能略低：由于数据需要同时写入多个驱动器，相对于单个驱动器的写入性能，RAID 1 的写入性能可能略低。


## RAID 5 {#raid-5}


### 原理 {#原理}

RAID 5 使用数据条带化（striping）的方式将数据分散存储在多个磁盘驱动器上，并通过分布式奇偶校验实现数据的冗余备份。数据和奇偶校验信息被组织成数据块，其中奇偶校验信息被分布式存储在不同的驱动器上。当写入数据时，奇偶校验信息也会被更新。如果其中一个驱动器发生故障，系统可以通过重新计算奇偶校验信息来恢复丢失的数据。这种方式可以同时提供性能增强和数据冗余。
![](https://developer.qcloudimg.com/http-save/3264435/67170f56ee80de0415ecbe3ac1a506a8.png)


### 优点 {#优点}

RAID 5 具有以下优点：

-   性能增强：通过数据条带化和并行读写操作，RAID 5 可以提供较高的数据传输速度和系统性能。
-   数据冗余备份：通过分布式奇偶校验，RAID 5 可以提供数据的冗余备份，保护数据免受驱动器故障的影响。
-   成本效益：相对于其他 RAID 级别（如 RAID 1），RAID 5 只需要额外一个驱动器用于奇偶校验信息，从而在成本上更具竞争力。


### 缺点 {#缺点}

RAID 5 也存在一些缺点：

-   写入性能受限：由于写入数据时需要重新计算奇偶校验信息，相对于读取操作，RAID 5 的写入性能较低。
-   驱动器故障期间的数据完整性：如果一个驱动器发生故障，系统在恢复数据时需要进行计算，这可能导致数据访问速度较慢，并且在此期间可能会有数据完整性的风险。


## RAID 6 {#raid-6}


### 原理 {#原理}

RAID 6 使用数据条带化（striping）的方式将数据分散存储在多个磁盘驱动器上，并通过分布式奇偶校验和双重奇偶校验实现数据的冗余备份。数据和奇偶校验信息被组织成数据块，其中奇偶校验信息被分布式存储在不同的驱动器上，并通过双重奇偶校验提供更高的数据冗余性。当写入数据时，奇偶校验信息也会被更新。如果其中两个驱动器发生故障，系统可以通过重新计算奇偶校验信息来恢复丢失的数据。这种方式可以同时提供性能增强和更高级别的数据冗余。
![](https://developer.qcloudimg.com/http-save/3264435/e35c085a520de5e63adfda77c286cfd2.png)


### 优点 {#优点}

RAID 6 具有以下优点：

-   更高级别的数据冗余：通过分布式奇偶校验和双重奇偶校验，RAID 6 可以提供更高级别的数据冗余性，即使同时发生两个驱动器故障，仍能恢复丢失的数据。
-   性能增强：通过数据条带化和并行读写操作，RAID 6 可以提供较高的数据传输速度和系统性能。


### 缺点 {#缺点}

RAID 6 也存在一些缺点：

-   写入性能略低：由于数据需要同时写入多个驱动器，并进行双重奇偶校验计算，相对于读取操作，RAID 6 的写入性能较低。
-   较高的成本：由于需要额外的磁盘用于奇偶校验信息和更复杂的计算，RAID 6 的成本相对较高。需要考虑额外的硬件成本。


## RAID 10 {#raid-10}


### 原理 {#原理}

RAID 10 使用条带化（striping）的方式将数据分散存储在多个磁盘驱动器上，并通过镜像（mirroring）实现数据的冗余备份。数据被分成固定大小的块，并依次存储在不同的驱动器上，类似于 RAID 0。然而，每个数据块都会被完全复制到另一个驱动器上，实现数据的冗余备份，类似于 RAID 1。这样，RAID 10 在提供性能增强的同时，也提供了数据的冗余保护。
![](https://developer.qcloudimg.com/http-save/3264435/f0425e984e8946c4182e978de7df40c1.png)


### 优点 {#优点}

RAID 10 具有以下优点：

-   高性能：通过数据条带化和并行读写操作，RAID 10 可以提供较高的数据传输速度和系统性能。
-   数据冗余备份：通过数据镜像将数据完全复制到另一个驱动器上，RAID 10 提供了数据的冗余备份，保护数据免受驱动器故障的影响。
-   较高的可靠性：由于 RAID 10 采用镜像的方式进行数据冗余备份，即使一个驱动器发生故障，仍然可以从其他驱动器中读取数据，确保数据的可用性和连续性。
-   快速的故障恢复：在 RAID 10 中，如果一个驱动器发生故障，系统可以直接从镜像驱动器中恢复数据，而无需进行复杂的计算，从而加快故障恢复的速度。


### 缺点 {#缺点}

RAID 10 也存在一些缺点：

-   较高的成本：相对于其他 RAID 级别，RAID 10 需要更多的驱动器用于数据镜像，从而增加了硬件成本。
-   低效的空间利用：由于 RAID 10 的数据镜像特性，有效的存储容量只等于所有驱动器中一半的容量，因此空间利用率较低。


## RAID 50 {#raid-50}


### 原理 {#原理}

RAID 50 使用条带化（striping）的方式将数据分散存储在多个 RAID 5 组中，并通过 RAID 0 的条带化方式对这些 RAID 5 组进行条带化。每个 RAID 5 组由多个磁盘驱动器组成，并使用分布式奇偶校验来提供数据冗余备份。RAID 0 则通过将数据划分为固定大小的块，并将这些块依次存储在多个驱动器上，提供了更高的性能。这样，RAID 50 既提供了数据冗余备份，又提供了性能增强。
![](https://developer.qcloudimg.com/http-save/3264435/93576d7e782d2424202dbd3d4e4f8fb7.png)


### 优点 {#优点}

RAID 50 具有以下优点：

-   高性能：通过数据条带化和并行读写操作，RAID 50 可以提供较高的数据传输速度和系统性能。
-   更高级别的数据冗余：由于采用了多个 RAID 5 组的方式，RAID 50 提供了更高级别的数据冗余备份，即使同时发生多个驱动器故障，仍能恢复丢失的数据。


### 缺点 {#缺点}

RAID 50 也存在一些缺点：

-   较高的成本：由于需要更多的驱动器用于数据条带化和数据冗余备份，RAID 50 的硬件成本相对较高。
-   配置和管理复杂性：由于涉及多个 RAID 5 组和驱动器，RAID 50 的配置和管理相对复杂，需要更多的注意和维护。


## RAID 60 {#raid-60}


### 原理 {#原理}

RAID 60 采用条带化（striping）的方式将数据分散存储在多个 RAID 6 组中，并通过 RAID 0 的条带化方式对这些 RAID 6 组进行条带化。每个 RAID 6 组由多个磁盘驱动器组成，并使用分布式奇偶校验来提供数据的冗余备份。RAID 0 则通过将数据划分为固定大小的块，并将这些块依次存储在多个驱动器上，提供了更高的性能。这样，RAID 60 既提供了更高级别的数据冗余备份，又提供了性能增强。
![](https://developer.qcloudimg.com/http-save/3264435/ef8d0ad730e3733ba012a4a50a1181ef.png)


### 优点 {#优点}

RAID 60 具有以下优点：

-   更高级别的数据冗余：由于采用了多个 RAID 6 组的方式，RAID 60 提供了更高级别的数据冗余备份，即使同时发生多个驱动器故障，仍能恢复丢失的数据。
-   高性能：通过数据条带化和并行读写操作，RAID 60 可以提供较高的数据传输速度和系统性能。


### 缺点 {#缺点}

RAID 60 也存在一些缺点：

-   较高的成本：由于需要更多的驱动器用于数据条带化和数据冗余备份，RAID 60 的硬件成本相对较高。
-   配置和管理复杂性：由于涉及多个 RAID 6 组和驱动器，RAID 60 的配置和管理相对复杂，需要更多的注意和维护。


## RAID 级别对比 {#raid-级别对比}

| RAID 级别 | 最小磁盘数 | 容错能力 | 磁盘空间开销 | 读取速度 | 写入速度 | 硬件成本 |
|---------|-------|------|--------|------|------|------|
| RAID0   | 2     | 无   | 0%     | 高   | 高   | 低   |
| RAID1   | 2     | 单个磁盘 | 50%    | 高   | 低   | 中   |
| RAID5   | 3     | 单个磁盘 | 1/N    | 中   | 低   | 中   |
| RAID6   | 4     | 两个磁盘 | 2/N    | 中   | 低   | 高   |
| RAID10  | 4     | 多个磁盘 | 50%    | 高   | 中   | 高   |
| RAID50  | 6     | 单个磁盘 | 1/N    | 高   | 中   | 高   |
| RAID60  | 8     | 多个磁盘 | 50%    | 高   | 中   | 高   |


## 参考资料 {#参考资料}

-   [完全图解RAID存储技术：RAID 0、1、5、6、10、50、60](https://cloud.tencent.com/developer/article/2304179)
-   [超详细各种RAID详细对比，补齐盲区](https://zhuanlan.zhihu.com/p/567159708)