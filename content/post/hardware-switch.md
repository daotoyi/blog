---
title: "二层和三层交换机"
date: "2022-07-01 10:22:00"
lastmod: "2023-01-01 11:04:42"
categories: ["Hardware"]
draft: false
---

## 二层交换机 {#二层交换机}

可以识别数据包中的 MAC 地址，根据 MAC 地址进行转发，并将这些 MAC 地址与对应的端口记录在自己内部的一个地址表中。二层交换机不遵循路由算法。


### 特点 {#特点}

-   二层交换机可以充当网桥，将计算机网络系统的各种终端设备连接在一个平台上。它们能够非常快速且有效地将数据从 LAN 网络的源端传输到目标端。
-   二层交换机通过从交换机的地址表中学习目的节点的 MAC 地址，执行交换功能，将数据帧从源端重新排列到目的端。
-   MAC 地址表为二层设备提供了唯一的地址，用于标识数据下发的终端设备和节点。
-   二层交换机将庞大复杂的 LAN 网络拆分为一个个小的 VLAN 网络。
-   通过在一个大型的 LAN 网络中配置多个 VLAN，在没有物理连接的情况下，交换变得更快。


### 应用 {#应用}

-   通过二层交换机，我们可以轻松地将位于同一 VLAN 内的数据帧从源端发送到目的端，而无需物理连接或位于同一位置。
-   因此，软件公司的服务器可以集中放置在一个位置，而分散在其他位置的客户端可以轻松访问数据而没有延迟，从而节省服务器成本和时间。
-   组织可以通过使用这些类型的交换机将主机配置在同一个 VLAN 中，而不需要任何互联网连接，从而实现内部通信。


## 三层交换机 {#三层交换机}

转发基于目标 IP 地址，数据包的目的地是定义的下一跳，三层交换机遵循路由算法。


### 特点 {#特点}

-   执行静态路由，以在不同 VLAN 之间传输数据。而二层设备只能在同一 VLAN 网络之间传输数据。
-   以与路由器相同的方式执行动态路由，这种动态路由技术允许交换机执行最佳数据包路由。
-   根据网络的实时场景提供一组多路径来传递数据包。交换机可以选择最可行的路径来路由数据包，目前流行的路由技术包括 RIP 和 OSPF。
-   有能力识别关于流量流向的交换机的相关 IP 地址信息。
-   能够根据子网划分或 VLAN 流量标记部署 QoS 分类，而不是像二层交换机那样手动配置交换机端口。
-   需要更多的功率来运行，并在交换机之间提供更高带宽的链路，这些链路几乎超过 10Gbits。
-   为数据交换提供高度安全的路径。
-


## 区别 {#区别}

-   工作层级不同：二层交换机工作在数据链路层，三层交换机工作在网络层，三层交换机不仅实现了数据包的高速转发，还可以根据不同网络状况达到最优网络性能。
-   原理不同：二层交换机的原理是当交换机从某个端口收到一个数据包，它会先读取包中的源 MAC 地址，再去读取包中的目的 MAC 地址，并在地址表中查找对应的端口，如表中有和目的 MAC 地址对应的端口，就把数据包直接复制到这个端口上。三层交换机的原理比较简单，就是一次路由多次交换，通俗来说就是第一次进行源到目的的路由，三层交换机会将此数据转到二层，那么下次无论是目的到源还是源到目的都可以进行快速交换。
-   功能不同：二层交换机基于 MAC 地址访问，只做数据的转发，并且不能配置 IP 地址，而三层交换机将二层交换技术和三层转发功能结合在一起，也就是说三层交换机在二层交换机的基础上增加了路由功能，可配置不同 VLAN 的 IP 地址，可通过三层路由实现不同 VLAN 之间通讯。
-   应用不同：二层交换机主要用于网络接入层和汇聚层，而三层交换机主要用于网络核心层，但是也存在少部分三层交换机用于汇聚层的现象，下图是三层交换机的实际应用实例。


## Ref {#ref}

-   [7 张图带你搞懂二层和三层交换机之间的区别](https://mp.weixin.qq.com/s/dMMGg-ydmvDLWF0l6Y2XwA)