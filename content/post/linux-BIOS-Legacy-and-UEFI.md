---
title: "Linux BIOS(Legacy&UEFI)"
lastmod: "2023-05-20 17:35:08"
categories: ["Linux"]
draft: true
---

## 基本 {#基本}


### BIOS {#bios}

BIOS 是个程序，存储在 BIOS 芯片中，而现在的新式电脑用的基本都是 UEFI 启动，早期的过渡电脑用的都是 EFI 启动。

BIOS 用于计算机硬件自检、CMOS 设置、引导操作系统启动、提供硬件 I/O、硬件中断等 4 项主要功能，因此 BIOS 程序可以分为若干模块，主要有 Boot Block 引导模块、CMOS 设置模块、扩展配置数据（ESCD）模块、DMI 收集硬件数据模块.


### EFI {#efi}

Extensible Firmware Interface 的词头缩写, 直译过来就是 **可扩展固件接口** .

是用模块化、高级语言（主要是 C 语言）构建的一个小型化系统，它和 BIOS 一样，主要在启动过程中完成硬件初始化，但它是直接利用加载 EFI 驱动的方式，识别系统硬件并完成硬件初始化，彻底摒弃读各种中断执行。

EFI 在功能上完全等同于一个轻量化的 OS（操作系统），但是 EFI 在制定时就定位到不足以成为专业 OS 的地位上，首先，它只是一个硬件和操作系统间的一个接口；其次，EFI 不提供中断访问机制，EFI 必须用轮询的方式检查并解释硬件，较 OS 下的驱动执行效率较低，最后，EFI 只有简单的存储器管理机制，在段保护模式下只将存储器分段，所有程序都可以存取任何一段位置，不提供真实的保护服务。


### UEFI {#uefi}

当 EFI 发展到 1.1 的时候，英特尔决定把 EFI 公之于众，于是后续的 2.0 吸引了众多公司加入，EFI 也不再属于英特尔，而是属于了 Unified EFI Form 的国际组织,EFI 在 2.0 后也遂改称为 UEFI，UEFI，其中的 EFI 和原来是一个意思，U则是 Unified（一元化、统一）的缩写，所以 UEFI 的意思就是 **“统一的可扩展固件接口”** .


### 区别 {#区别}

UEFI 其优势在于可以提高电脑开机后，进入操作系统的启动速度。相比传统的 Bios 启动方式，说白了就是“略过了”启动时自检的过程.

-   UEFI 已具备文件系统的支持，它能够直接读取 FAT 分区中的文件。
-   可开发出直接在 UEFI 下运行的应用程序，这类程序文件通常以 efi 结尾。


### MODE {#mode}

电脑启动模式可以分为三种：

1.  BIOS 启动模式
    -   由于电脑主板的 BIOS 无法兼容 UEIF，只能使用 BIOS，这种情况一般出现在比较旧的电脑中。
2.  兼容性启动模式
    -   就是 CSM 兼容启动模式，是 UEFI 和传统 BIOS 两者共存模式，既能用传统 BIOS 引导模式，也能用新式 UEFI 启动电脑系统。比较主流。
3.  纯 UEFI 启动模式
    -   只能在 UEFI 引导模式来启动电脑系统。


## 双启动 U 盘 {#双启动-u-盘}


### 双启动的原理 {#双启动的原理}

**U 盘具有何种（UEFI 还是 BIOS）引导方式，取决于我们写入的引导文件类型。**

要制作 UEFI 加 BIOS 双启动的 U 盘，就要给 U 盘预置两个能启动的操作系统，首先就要把 U 盘化成两个区，这要用到量产工具对 U 盘进行量产操作。

所谓的量产就是给 U 盘刷底层的固件，即底层的数据或程序。

1.  量产的初始化操作能在一定程度上对 U 盘进行修复。
2.  量产还有一个重要的作用，即可以改变 U 盘的模式
    1.  添加 ISO 文件后，变成 USB-CDROM 的格式，数据的安全性得到根本保障，不会受到病毒的攻击
    2.  如果添加的文件是操作系统的 ISO 文件，就变成了可启动的 U 盘了
3.  只把 U 盘的一部分划出来添加 Winpe 或其他操作系统 ISO 文件变成 USB 一 CDROM 的格式，剩余的部分当成正常的 U 盘来使用，用来存储文件，在系统下 U 盘可以看到两个独立的盘符，如 USB-CDROM 加 USB 模式
    1.  进一步把 USB 部分用制作软件制作成可以启动的 U 盘模式，那就制作成了双启动的 U 盘。


## REF {#ref}

-   [电脑基础知识普及：BIOS、EFI与UEFI详解！](https://zhuanlan.zhihu.com/p/54108702)